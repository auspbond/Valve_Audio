-- Simplistic stereo tube amplification system database
-- Author: Austin Bond

CREATE TABLE HOBBYIST (
    HOB_ID INT PRIMARY KEY,
    F_NAME VARCHAR(30),
    L_NAME VARCHAR(30),
    SYSTEMS_OWNED INT
);

CREATE TABLE SPEAKER (
    SPEAKER_ID INT PRIMARY KEY,
    SPEAKER_MODEL_NAME VARCHAR(40),
    SPEAKER_SIZE NUMERIC(4, 2),
    SPEAKER_IMPEDANCE INT
);

CREATE TABLE MUSIC_SOURCE (
    MUSIC_SOURCE_ID INT PRIMARY KEY,
    SOURCE_NAME VARCHAR(40),
    SOURCE_LINE_VOLTAGE NUMERIC(6, 3),
    SOURCE_MEDIUM VARCHAR(40)
);

CREATE TABLE INTEGRATED_AMPLIFIER (
    INTEGRATED_AMP_ID INT PRIMARY KEY,
    INTEGRATED_AMP_MODEL_NAME VARCHAR(40),
    INTEG_OUTPUT_POWER INT,
    INTEG_INPUTS INT,
    INTEG_OUTPUTS INT
);

CREATE TABLE POWER_AMPLIFIER (
    POWER_AMP_ID INT PRIMARY KEY,
    POWER_AMP_MODEL_NAME VARCHAR(40),
    POWER_OUTPUT_POWER INT,
    POWER_INPUTS INT,
    POWER_OUTPUTS INT
);

CREATE TABLE PRE_AMPLIFIER (
    PREAMP_ID INT PRIMARY KEY,
    PREAMP_MODEL_NAME VARCHAR(40),
    PRE_INPUTS INT,
    PRE_OUTPUTS INT
);

CREATE TABLE INTEGRATED_SYSTEM_OWNERSHIP (
    INTEGRATED_SYSTEM_ID INT,
    HOB_ID INT,
    INTEGRATED_AMP_ID INT,
    SPEAKER_ID INT,
    MUSIC_SOURCE_ID INT,
    CONSTRAINT OWNS_INTEG_SYSTEM_ID PRIMARY KEY (INTEGRATED_SYSTEM_ID, HOB_ID, INTEGRATED_AMP_ID, SPEAKER_ID, MUSIC_SOURCE_ID),
    CONSTRAINT OWNS_INTEG_SYSTEM_HOB_ID FOREIGN KEY (HOB_ID) REFERENCES HOBBYIST(HOB_ID),
    CONSTRAINT OWNS_INTEG_SYSTEM_INTEGRATED_AMP_ID FOREIGN KEY (INTEGRATED_AMP_ID) REFERENCES INTEGRATED_AMPLIFIER(INTEGRATED_AMP_ID),
    CONSTRAINT OWNS_INTEG_SYSTEM_SPEAKER_ID FOREIGN KEY (SPEAKER_ID) REFERENCES SPEAKER(SPEAKER_ID),
    CONSTRAINT OWNS_INTEG_SYSTEM_MUSIC_SOURCE_ID FOREIGN KEY (MUSIC_SOURCE_ID) REFERENCES MUSIC_SOURCE(MUSIC_SOURCE_ID)
);

CREATE TABLE DISCRETE_SYSTEM_OWNERSHIP (
    DISCRETE_SYSTEM_ID INT,
    HOB_ID INT,
    POWER_AMP_ID INT,
    PREAMP_ID INT,
    SPEAKER_ID INT,
    MUSIC_SOURCE_ID INT,
    CONSTRAINT OWNS_DISC_SYSTEM_ID PRIMARY KEY (DISCRETE_SYSTEM_ID, HOB_ID, POWER_AMP_ID, PREAMP_ID, SPEAKER_ID, MUSIC_SOURCE_ID),
    CONSTRAINT OWNS_DISC_SYSTEM_HOB_ID FOREIGN KEY (HOB_ID) REFERENCES HOBBYIST(HOB_ID),
    CONSTRAINT OWNS_DISC_SYSTEM_POWER_AMP_ID FOREIGN KEY (POWER_AMP_ID) REFERENCES POWER_AMPLIFIER(POWER_AMP_ID),
    CONSTRAINT OWNS_DISC_SYSTEM_PREAMP_ID FOREIGN KEY (PREAMP_ID) REFERENCES PRE_AMPLIFIER(PREAMP_ID),
    CONSTRAINT OWNS_DISC_SYSTEM_SPEAKER_ID FOREIGN KEY (SPEAKER_ID) REFERENCES SPEAKER(SPEAKER_ID),
    CONSTRAINT OWNS_DISC_SYSTEM_MUSIC_SOURCE_ID FOREIGN KEY (MUSIC_SOURCE_ID) REFERENCES MUSIC_SOURCE(MUSIC_SOURCE_ID)
);

CREATE TABLE PREAMP_TUBE (
    PREAMP_TUBE_ID INT PRIMARY KEY,
    PREAMP_TUBE_MODEL_NAME VARCHAR(10),
    PREAMP_TUBE_GAIN NUMERIC(3),
    PREAMP_TUBE_HEATER_VOLTAGE NUMERIC(4,2),
    PREAMP_TUBE_HEATER_CURRENT NUMERIC(6,3),
    PREAMP_TUBE_PLATE_VOLTAGE NUMERIC(6,2),
    PREAMP_TUBE_PLATE_CURRENT NUMERIC(6,3),
    PREAMP_TUBE_TRANSCONDUCTANCE NUMERIC(6)
);

CREATE TABLE POWER_TUBE (
    POWER_TUBE_ID INT PRIMARY KEY,
    POWER_TUBE_MODEL_NAME VARCHAR(10),
    POWER_TUBE_GAIN NUMERIC(3),
    POWER_TUBE_HEATER_VOLTAGE NUMERIC(4,2),
    POWER_TUBE_HEATER_CURRENT NUMERIC(6,3),
    POWER_TUBE_PLATE_VOLTAGE NUMERIC(6,2),
    POWER_TUBE_PLATE_CURRENT NUMERIC(6,3),
    POWER_TUBE_CATHODE_CURRENT NUMERIC(6,3),
    POWER_TUBE_TRANSCONDUCTANCE NUMERIC(6)
);

CREATE TABLE RECTIFIER_TUBE (
    RECTIFIER_TUBE_ID INT PRIMARY KEY,
    RECTIFIER_TUBE_MODEL_NAME VARCHAR(10),
    RECTIFIER_TUBE_HEATER_VOLTAGE NUMERIC(4,2),
    RECTIFIER_TUBE_HEATER_CURRENT NUMERIC(6,3),
    RECTIFIER_AC_SUPPLY_VOLTAGE NUMERIC(6,2),
    RECTIFIER_DC_CURRENT_OUTPUT NUMERIC(6,3),
    RECTIFIER_FILTER_CAPACITANCE NUMERIC(6,2)
);

CREATE TABLE PRE_AMPLIFIER_PARTS (
    PRE_AMPLIFIER_PARTS_ID INT PRIMARY KEY,
    PREAMP_ID INT,
    FRONT_PREAMP_PREAMP_TUBE_ID INT,
    BACK_PREAMP_PREAMP_TUBE_ID INT,
    FOREIGN KEY (PREAMP_ID) REFERENCES PRE_AMPLIFIER(PREAMP_ID),
    FOREIGN KEY (FRONT_PREAMP_PREAMP_TUBE_ID) REFERENCES PREAMP_TUBE(PREAMP_TUBE_ID),
    FOREIGN KEY (BACK_PREAMP_PREAMP_TUBE_ID) REFERENCES PREAMP_TUBE(PREAMP_TUBE_ID)
);

CREATE TABLE POWER_AMPLIFIER_PARTS (
    POWER_AMPLIFIER_PARTS_ID INT PRIMARY KEY,
    POWER_AMP_ID INT,
    FRONT_POWERAMP_PREAMP_TUBE_ID INT,
    BACK_POWERAMP_PREAMP_TUBE_ID INT,
    POWER_TUBE_ID INT,
    RECTIFIER_TUBE_ID INT,
    FOREIGN KEY (POWER_AMP_ID) REFERENCES POWER_AMPLIFIER(POWER_AMP_ID),
    FOREIGN KEY (FRONT_POWERAMP_PREAMP_TUBE_ID) REFERENCES PREAMP_TUBE(PREAMP_TUBE_ID),
    FOREIGN KEY (BACK_POWERAMP_PREAMP_TUBE_ID) REFERENCES PREAMP_TUBE(PREAMP_TUBE_ID),
    FOREIGN KEY (POWER_TUBE_ID) REFERENCES POWER_TUBE(POWER_TUBE_ID),
    FOREIGN KEY (RECTIFIER_TUBE_ID) REFERENCES RECTIFIER_TUBE(RECTIFIER_TUBE_ID)
);

CREATE TABLE INTEGRATED_AMPLIFIER_PARTS (
    INTEGRATED_AMPLIFIER_PARTS_ID INT PRIMARY KEY,
    INTEGRATED_AMP_ID INT,
    FRONT_INTEGAMP_PREAMP_TUBE_ID INT,
    BACK_INTEGAMP_PREAMP_TUBE_ID INT,
    POWER_TUBE_ID INT,
    RECTIFIER_TUBE_ID INT,
    FOREIGN KEY (INTEGRATED_AMP_ID) REFERENCES INTEGRATED_AMPLIFIER(INTEGRATED_AMP_ID),
    FOREIGN KEY (FRONT_INTEGAMP_PREAMP_TUBE_ID) REFERENCES PREAMP_TUBE(PREAMP_TUBE_ID),
    FOREIGN KEY (BACK_INTEGAMP_PREAMP_TUBE_ID) REFERENCES PREAMP_TUBE(PREAMP_TUBE_ID),
    FOREIGN KEY (POWER_TUBE_ID) REFERENCES POWER_TUBE(POWER_TUBE_ID),
    FOREIGN KEY (RECTIFIER_TUBE_ID) REFERENCES RECTIFIER_TUBE(RECTIFIER_TUBE_ID)
);

-- HOBBYISTS
INSERT INTO HOBBYIST VALUES (1, 'Joe', 'Biden', 1);
INSERT INTO HOBBYIST VALUES (2, 'Donald', 'Trump', 1);
INSERT INTO HOBBYIST VALUES (3, 'Barack', 'Obama', 1);
INSERT INTO HOBBYIST VALUES (4, 'George', 'Bush', 1);
INSERT INTO HOBBYIST VALUES (5, 'Bill', 'Clinton', 1);

-- SPEAKERS
INSERT INTO SPEAKER VALUES (20, 'Buchardt S400', 6, 4);
INSERT INTO SPEAKER VALUES (21, 'Klipsch RP-600M II', 6.5, 8);
INSERT INTO SPEAKER VALUES (22, 'Wharfdale Diamond 12.1', 5, 8);

-- SOURCES
INSERT INTO MUSIC_SOURCE VALUES (40, 'Audio Technica AT-LP120XBT', 0.252, 'VINYL');
INSERT INTO MUSIC_SOURCE VALUES (41, 'RME ADI-2 DAC', NULL, 'DIGITAL');
INSERT INTO MUSIC_SOURCE VALUES (42, 'Emotiva ERC-4', 2, 'CD');

-- PRE_AMPLIFIERS
INSERT INTO PRE_AMPLIFIER VALUES (100, 'Schiit Freya +', 5, 3);
INSERT INTO PRE_AMPLIFIER VALUES (101, 'McIntosh C2700', 7, 7);
INSERT INTO PRE_AMPLIFIER VALUES (102, 'Luxman CL-1000', 5, 4);

-- POWER AMPLIFIERS
INSERT INTO POWER_AMPLIFIER VALUES (300, 'Woo Audio WA-5', 8, 3, 3);
INSERT INTO POWER_AMPLIFIER VALUES (301, 'McIntosh MC275', 75, 2, 2);
INSERT INTO POWER_AMPLIFIER VALUES (302, 'Luxman MQ-300', 50, 1, 2);

-- INTEGRATED AMPLIFIERS
INSERT INTO INTEGRATED_AMPLIFIER VALUES (500, 'McIntosh MA352', 200, 7, 3);
INSERT INTO INTEGRATED_AMPLIFIER VALUES (501, 'Luxman SQ-N150', 20, 4, 3);
INSERT INTO INTEGRATED_AMPLIFIER VALUES (502, 'Line Magnetic LM-211iA', 30, 4, 2);

-- PREAMP TUBES
INSERT INTO PREAMP_TUBE VALUES (1000, '12AU7', 20, 12.6, 0.15, 100, 11.8, 3100);
INSERT INTO PREAMP_TUBE VALUES (1001, '12AX7', 100, 12.6, 0.15, 100, 0.5, 1250);
INSERT INTO PREAMP_TUBE VALUES (1002, '12AT7', 60, 12.6, 0.15, 100, 3.7, 4000);
INSERT INTO PREAMP_TUBE VALUES (1010, '6SN7', 20, 6.3, 0.6, 90, 10, 3000);
INSERT INTO PREAMP_TUBE VALUES (1011, '6DJ8', 33, 6.3, 0.365, 90, 15, NULL);

-- POWER TUBES
INSERT INTO POWER_TUBE VALUES (3000, 'KT88', 8, 6.3, 1.6, 250, 140, 230, NULL);
INSERT INTO POWER_TUBE VALUES (3010, '300B', 3.85, 5.0, 1.2, 350, 100, NULL, 5500);
INSERT INTO POWER_TUBE VALUES (3020, 'EL34', 11, 6.3, 1.5, 250, 100, 150, NULL);
INSERT INTO POWER_TUBE VALUES (3021, 'EL84', 19, 6.3, 0.760, 250, 48, 65, NULL);

-- RECTIFIER TUBES
INSERT INTO RECTIFIER_TUBE VALUES (5000, '5AR4', 5.0, 1.9, 1100, 250, 60);
INSERT INTO RECTIFIER_TUBE VALUES (5010, '5U4G', 5.0, 3.0, 450, 275, NULL);


-- SCHIIT FREYA + & 6SN7
INSERT INTO PRE_AMPLIFIER_PARTS VALUES (10000, 100, 1010, NULL);
-- MCINTOSH C2700 & 12AX7 & 12AT7
INSERT INTO PRE_AMPLIFIER_PARTS VALUES (10001, 101, 1001, 1002);
-- LUXMAN CL-1000 & 6DJ8
INSERT INTO PRE_AMPLIFIER_PARTS VALUES (10002, 102, 1011, NULL);

-- WOO AUDIO WA-5 & 6SN7 & 300B & 5U4G
INSERT INTO POWER_AMPLIFIER_PARTS VALUES (20000, 300, 1010, NULL, 3010, 5010);
-- MCINTOSH MC275 & 12AT7 & 12AX7 & KT88
INSERT INTO POWER_AMPLIFIER_PARTS VALUES (20001, 301, 1002, 1001, 3000, NULL);
-- LUXMAN MQ-300 & 6SN7 AND 300B & 5AR4
INSERT INTO POWER_AMPLIFIER_PARTS VALUES (20002, 302, 1010, NULL, 3010, 5000);

-- MCINTOSH MA352 & 12AX7 & 12AT7
INSERT INTO INTEGRATED_AMPLIFIER_PARTS VALUES (30000, 500, 1001, 1002, NULL, NULL);
-- LUXMAN SQ-N150 & 12AX7 & EL84
INSERT INTO INTEGRATED_AMPLIFIER_PARTS VALUES (30001, 501, 1001, NULL, 3021, NULL);
-- LINE MAGNETIC LM-211iA & 12AX7 & 12AU7 & EL34
INSERT INTO INTEGRATED_AMPLIFIER_PARTS VALUES (30002, 502, 1001, 1000, 3020, NULL);

-- BILL CLINTON OWNS DISCRETE SYSTEM. LUXMAN MQ-300 & LUXMAN CL-1000 & KLIPSCH RP-600M II & AUDIO TECHNICA AT-LP120XBT
INSERT INTO DISCRETE_SYSTEM_OWNERSHIP VALUES (40000, 5, 302, 102, 21, 40);
-- GEORGE BUSH OWNS DISCRETE SYSTEM. MCINTOSH MC275 & MCINTOSH C2700 & WHARFEDALE DIAMOND 12.1 & AUDIO TECHNICA AT-LP120XBT
INSERT INTO DISCRETE_SYSTEM_OWNERSHIP VALUES (40001, 4, 301, 101, 22, 40);
-- BARACK OBAMA OWNS INTEGRATED SYSTEM. LINE MAGNETIC LM-211iA & BUCHARDT S400 & RME ADI-2 DAC
INSERT INTO INTEGRATED_SYSTEM_OWNERSHIP VALUES (40002, 3, 502, 20, 41);
-- DONALD TRUMP OWNS INTEGRATED SYSTEM. MCINTOSH MA352 & BUCHARDT S400 & EMOTIVA ERC-4
INSERT INTO INTEGRATED_SYSTEM_OWNERSHIP VALUES (40003, 2, 500, 20, 42);
-- JOE BIDEN OWNS DISCRETE SYSTEM. WOO AUDIO WA-5 & SCHIIT FREYA + & BUCHARDT S400 & RME ADI-2 DAC
INSERT INTO DISCRETE_SYSTEM_OWNERSHIP VALUES (40004, 1, 300, 100, 20, 41);
